# This file was generated by "weaver kube" version v0.24.8 for the following
# application:
#
#     app: onlineboutique
#     version: b94c70d5
#     components groups:
#     - 
#       - github.com/ServiceWeaver/onlineboutique/adservice/AdService
#     - 
#       - github.com/ServiceWeaver/onlineboutique/cartservice/CartService
#       - github.com/ServiceWeaver/onlineboutique/cartservice/cartCache
#     - 
#       - github.com/ServiceWeaver/onlineboutique/checkoutservice/CheckoutService
#     - 
#       - github.com/ServiceWeaver/onlineboutique/currencyservice/CurrencyService
#     - 
#       - github.com/ServiceWeaver/onlineboutique/emailservice/EmailService
#     - 
#       - github.com/ServiceWeaver/weaver/Main
#     - 
#       - github.com/ServiceWeaver/onlineboutique/paymentservice/PaymentService
#     - 
#       - github.com/ServiceWeaver/onlineboutique/productcatalogservice/ProductCatalogService
#     - 
#       - github.com/ServiceWeaver/onlineboutique/recommendationservice/RecommendationService
#     - 
#       - github.com/ServiceWeaver/onlineboutique/shippingservice/ShippingService
#     listeners:
#     - boutique
#
# This file contains the following resources:
#
#     1. A Deployment for every group of components.
#     2. A HorizontalPodAutoscaler for every Deployment.
#     3. A Service for every listener.
#     4. Some Roles and RoleBindings to configure permissions.
#
# To deploy these resources, run:
#
#     kubectl apply -f /tmp/kube_b94c70d5.yaml
#
# To view the deployed resources, run:
#
#     kubectl get all,configmaps --selector=serviceweaver/version=b94c70d5
#
# To view a description of every resource, run:
#
#     kubectl get all,configmaps --selector=serviceweaver/version=b94c70d5 -o custom-columns=KIND:.kind,NAME:.metadata.name,APP:.metadata.labels.serviceweaver/app,VERSION:.metadata.labels.serviceweaver/version,DESCRIPTION:.metadata.annotations.description
#
# To delete the resources, run:
#
#     kubectl delete all,configmaps --selector=serviceweaver/version=b94c70d5


# Roles.
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  creationTimestamp: null
  name: serviceweaver-pods-getter
  namespace: default
rules:
- apiGroups:
  - ""
  resources:
  - pods
  verbs:
  - get
  - list
  - watch

---

# Role Bindings.
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  creationTimestamp: null
  name: serviceweaver-default-pods-getter
  namespace: default
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: Role
  name: serviceweaver-pods-getter
subjects:
- kind: ServiceAccount
  name: default
  namespace: default

---

# Configuration
apiVersion: v1
data:
  config.textpb: |
    namespace: "default"
    deployment_id: "b94c70d5-619c-45a7-9aa6-8dab855dde8a"
    listeners: {
      key: "boutique"
      value: 20000
    }
    groups: {
      key: "github.com/ServiceWeaver/onlineboutique/adservice/AdService"
      value: "adservice"
    }
    groups: {
      key: "github.com/ServiceWeaver/onlineboutique/cartservice/CartService"
      value: "cart"
    }
    groups: {
      key: "github.com/ServiceWeaver/onlineboutique/cartservice/cartCache"
      value: "cart"
    }
    groups: {
      key: "github.com/ServiceWeaver/onlineboutique/checkoutservice/CheckoutService"
      value: "checkoutservice"
    }
    groups: {
      key: "github.com/ServiceWeaver/onlineboutique/currencyservice/CurrencyService"
      value: "currencyservice"
    }
    groups: {
      key: "github.com/ServiceWeaver/onlineboutique/emailservice/EmailService"
      value: "emailservice"
    }
    groups: {
      key: "github.com/ServiceWeaver/onlineboutique/paymentservice/PaymentService"
      value: "paymentservice"
    }
    groups: {
      key: "github.com/ServiceWeaver/onlineboutique/productcatalogservice/ProductCatalogService"
      value: "productcatalogservice"
    }
    groups: {
      key: "github.com/ServiceWeaver/onlineboutique/recommendationservice/RecommendationService"
      value: "recommendationservice"
    }
    groups: {
      key: "github.com/ServiceWeaver/onlineboutique/shippingservice/ShippingService"
      value: "shippingservice"
    }
    groups: {
      key: "github.com/ServiceWeaver/weaver/Main"
      value: "main"
    }
    telemetry: {
      metrics: {
        export_interval: {
          seconds: 30
        }
      }
    }
  weaver.toml: |
    [serviceweaver]
    binary = "./onlineboutique"
    rollout = "5m"

    [single]
    listeners.boutique = {address = "localhost:12345"}

    [multi]
    listeners.boutique = {address = "localhost:12345"}

    [gke]
    regions = ["us-west1"]
    listeners.boutique = {is_public = true, hostname = "onlineboutique.serviceweaver.dev"}
kind: ConfigMap
metadata:
  annotations:
    description: This ConfigMap contains config files for app "onlineboutique" version
      "b94c70d5".
  creationTimestamp: null
  labels:
    serviceweaver/app: onlineboutique
    serviceweaver/version: b94c70d5
  name: config-b94c70d5
  namespace: default

---

# Deployment for group adservice
apiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    description: This Deployment hosts components github.com/ServiceWeaver/onlineboutique/adservice/AdService.
  creationTimestamp: null
  labels:
    serviceweaver/app: onlineboutique
    serviceweaver/version: b94c70d5
  name: onlineboutique-adservice-b94c70d5-7e019093
  namespace: default
spec:
  selector:
    matchLabels:
      serviceweaver/name: onlineboutique-adservice-b94c70d5-7e019093
  strategy: {}
  template:
    metadata:
      annotations:
        description: This Pod hosts components github.com/ServiceWeaver/onlineboutique/adservice/AdService.
      creationTimestamp: null
      labels:
        serviceweaver/app: onlineboutique
        serviceweaver/name: onlineboutique-adservice-b94c70d5-7e019093
        serviceweaver/version: b94c70d5
      namespace: default
    spec:
      affinity:
        podAntiAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
          - podAffinityTerm:
              labelSelector:
                matchLabels:
                  serviceweaver/name: onlineboutique-adservice-b94c70d5-7e019093
              topologyKey: kubernetes.io/hostname
            weight: 100
      containers:
      - args:
        - babysitter
        - /weaver/weaver.toml
        - /weaver/config.textpb
        - github.com/ServiceWeaver/onlineboutique/adservice/AdService
        image: docker.io/camilamedeir0s/onlineboutique:b94c70d5
        imagePullPolicy: IfNotPresent
        name: serviceweaver
        resources:
          requests:
            memory: "15Mi"
            cpu: "15m"
          limits:
            memory: "190Mi"
            cpu: "190m"
        stdin: true
        tty: true
        volumeMounts:
        - mountPath: /weaver/weaver.toml
          name: config
          subPath: weaver.toml
        - mountPath: /weaver/config.textpb
          name: config
          subPath: config.textpb
      dnsPolicy: ClusterFirst
      serviceAccountName: default
      volumes:
      - configMap:
          name: config-b94c70d5
        name: config
status: {}

---

# Autoscaler for group adservice
# apiVersion: autoscaling/v2
# kind: HorizontalPodAutoscaler
# metadata:
#   annotations:
#     description: This HorizontalPodAutoscaler scales the "onlineboutique-adservice-b94c70d5-7e019093"
#       Deployment.
#   creationTimestamp: null
#   labels:
#     serviceweaver/app: onlineboutique
#     serviceweaver/version: b94c70d5
#   name: onlineboutique-adservice-b94c70d5-7e019093
#   namespace: default
# spec:
#   maxReplicas: 10
#   metrics:
#   - resource:
#       name: cpu
#       target:
#         averageUtilization: 80
#         type: Utilization
#     type: Resource
#   minReplicas: 1
#   scaleTargetRef:
#     apiVersion: apps/v1
#     kind: Deployment
#     name: onlineboutique-adservice-b94c70d5-7e019093
# status:
#   currentMetrics: null
#   desiredReplicas: 0

---

# Deployment for group cart
apiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    description: This Deployment hosts components github.com/ServiceWeaver/onlineboutique/cartservice/CartService,
      github.com/ServiceWeaver/onlineboutique/cartservice/cartCache.
  creationTimestamp: null
  labels:
    serviceweaver/app: onlineboutique
    serviceweaver/version: b94c70d5
  name: onlineboutique-cart-b94c70d5-266eb192
  namespace: default
spec:
  selector:
    matchLabels:
      serviceweaver/name: onlineboutique-cart-b94c70d5-266eb192
  strategy: {}
  template:
    metadata:
      annotations:
        description: This Pod hosts components github.com/ServiceWeaver/onlineboutique/cartservice/CartService,
          github.com/ServiceWeaver/onlineboutique/cartservice/cartCache.
      creationTimestamp: null
      labels:
        serviceweaver/app: onlineboutique
        serviceweaver/name: onlineboutique-cart-b94c70d5-266eb192
        serviceweaver/version: b94c70d5
      namespace: default
    spec:
      affinity:
        podAntiAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
          - podAffinityTerm:
              labelSelector:
                matchLabels:
                  serviceweaver/name: onlineboutique-cart-b94c70d5-266eb192
              topologyKey: kubernetes.io/hostname
            weight: 100
      containers:
      - args:
        - babysitter
        - /weaver/weaver.toml
        - /weaver/config.textpb
        - github.com/ServiceWeaver/onlineboutique/cartservice/CartService
        - github.com/ServiceWeaver/onlineboutique/cartservice/cartCache
        image: docker.io/camilamedeir0s/onlineboutique:b94c70d5
        imagePullPolicy: IfNotPresent
        name: serviceweaver
        resources:
          requests:
            memory: "15Mi"
            cpu: "15m"
          limits:
            memory: "190Mi"
            cpu: "310m"
        stdin: true
        tty: true
        volumeMounts:
        - mountPath: /weaver/weaver.toml
          name: config
          subPath: weaver.toml
        - mountPath: /weaver/config.textpb
          name: config
          subPath: config.textpb
      dnsPolicy: ClusterFirst
      serviceAccountName: default
      volumes:
      - configMap:
          name: config-b94c70d5
        name: config
status: {}

---

# Autoscaler for group cart
# apiVersion: autoscaling/v2
# kind: HorizontalPodAutoscaler
# metadata:
#   annotations:
#     description: This HorizontalPodAutoscaler scales the "onlineboutique-cart-b94c70d5-266eb192"
#       Deployment.
#   creationTimestamp: null
#   labels:
#     serviceweaver/app: onlineboutique
#     serviceweaver/version: b94c70d5
#   name: onlineboutique-cart-b94c70d5-266eb192
#   namespace: default
# spec:
#   maxReplicas: 10
#   metrics:
#   - resource:
#       name: cpu
#       target:
#         averageUtilization: 80
#         type: Utilization
#     type: Resource
#   minReplicas: 1
#   scaleTargetRef:
#     apiVersion: apps/v1
#     kind: Deployment
#     name: onlineboutique-cart-b94c70d5-266eb192
# status:
#   currentMetrics: null
#   desiredReplicas: 0

---

# Deployment for group checkoutservice
apiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    description: This Deployment hosts components github.com/ServiceWeaver/onlineboutique/checkoutservice/CheckoutService.
  creationTimestamp: null
  labels:
    serviceweaver/app: onlineboutique
    serviceweaver/version: b94c70d5
  name: onlineboutique-checkoutservice-b94c70d5-9ea42add
  namespace: default
spec:
  selector:
    matchLabels:
      serviceweaver/name: onlineboutique-checkoutservice-b94c70d5-9ea42add
  strategy: {}
  template:
    metadata:
      annotations:
        description: This Pod hosts components github.com/ServiceWeaver/onlineboutique/checkoutservice/CheckoutService.
      creationTimestamp: null
      labels:
        serviceweaver/app: onlineboutique
        serviceweaver/name: onlineboutique-checkoutservice-b94c70d5-9ea42add
        serviceweaver/version: b94c70d5
      namespace: default
    spec:
      affinity:
        podAntiAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
          - podAffinityTerm:
              labelSelector:
                matchLabels:
                  serviceweaver/name: onlineboutique-checkoutservice-b94c70d5-9ea42add
              topologyKey: kubernetes.io/hostname
            weight: 100
      containers:
      - args:
        - babysitter
        - /weaver/weaver.toml
        - /weaver/config.textpb
        - github.com/ServiceWeaver/onlineboutique/checkoutservice/CheckoutService
        image: docker.io/camilamedeir0s/onlineboutique:b94c70d5
        imagePullPolicy: IfNotPresent
        name: serviceweaver
        resources:
          requests:
            memory: "15Mi"
            cpu: "15m"
          limits:
            memory: "190Mi"
            cpu: "120m"
        stdin: true
        tty: true
        volumeMounts:
        - mountPath: /weaver/weaver.toml
          name: config
          subPath: weaver.toml
        - mountPath: /weaver/config.textpb
          name: config
          subPath: config.textpb
      dnsPolicy: ClusterFirst
      serviceAccountName: default
      volumes:
      - configMap:
          name: config-b94c70d5
        name: config
status: {}

---

# Autoscaler for group checkoutservice
# apiVersion: autoscaling/v2
# kind: HorizontalPodAutoscaler
# metadata:
#   annotations:
#     description: This HorizontalPodAutoscaler scales the "onlineboutique-checkoutservice-b94c70d5-9ea42add"
#       Deployment.
#   creationTimestamp: null
#   labels:
#     serviceweaver/app: onlineboutique
#     serviceweaver/version: b94c70d5
#   name: onlineboutique-checkoutservice-b94c70d5-9ea42add
#   namespace: default
# spec:
#   maxReplicas: 10
#   metrics:
#   - resource:
#       name: cpu
#       target:
#         averageUtilization: 80
#         type: Utilization
#     type: Resource
#   minReplicas: 1
#   scaleTargetRef:
#     apiVersion: apps/v1
#     kind: Deployment
#     name: onlineboutique-checkoutservice-b94c70d5-9ea42add
# status:
#   currentMetrics: null
#   desiredReplicas: 0

---

# Deployment for group currencyservice
apiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    description: This Deployment hosts components github.com/ServiceWeaver/onlineboutique/currencyservice/CurrencyService.
  creationTimestamp: null
  labels:
    serviceweaver/app: onlineboutique
    serviceweaver/version: b94c70d5
  name: onlineboutique-currencyservice-b94c70d5-89bec3df
  namespace: default
spec:
  selector:
    matchLabels:
      serviceweaver/name: onlineboutique-currencyservice-b94c70d5-89bec3df
  strategy: {}
  template:
    metadata:
      annotations:
        description: This Pod hosts components github.com/ServiceWeaver/onlineboutique/currencyservice/CurrencyService.
      creationTimestamp: null
      labels:
        serviceweaver/app: onlineboutique
        serviceweaver/name: onlineboutique-currencyservice-b94c70d5-89bec3df
        serviceweaver/version: b94c70d5
      namespace: default
    spec:
      affinity:
        podAntiAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
          - podAffinityTerm:
              labelSelector:
                matchLabels:
                  serviceweaver/name: onlineboutique-currencyservice-b94c70d5-89bec3df
              topologyKey: kubernetes.io/hostname
            weight: 100
      containers:
      - args:
        - babysitter
        - /weaver/weaver.toml
        - /weaver/config.textpb
        - github.com/ServiceWeaver/onlineboutique/currencyservice/CurrencyService
        image: docker.io/camilamedeir0s/onlineboutique:b94c70d5
        imagePullPolicy: IfNotPresent
        name: serviceweaver
        resources:
          requests:
            memory: "15Mi"
            cpu: "15m"
          limits:
            memory: "190Mi"
            cpu: "280m"
        stdin: true
        tty: true
        volumeMounts:
        - mountPath: /weaver/weaver.toml
          name: config
          subPath: weaver.toml
        - mountPath: /weaver/config.textpb
          name: config
          subPath: config.textpb
      dnsPolicy: ClusterFirst
      serviceAccountName: default
      volumes:
      - configMap:
          name: config-b94c70d5
        name: config
status: {}

---

# Autoscaler for group currencyservice
# apiVersion: autoscaling/v2
# kind: HorizontalPodAutoscaler
# metadata:
#   annotations:
#     description: This HorizontalPodAutoscaler scales the "onlineboutique-currencyservice-b94c70d5-89bec3df"
#       Deployment.
#   creationTimestamp: null
#   labels:
#     serviceweaver/app: onlineboutique
#     serviceweaver/version: b94c70d5
#   name: onlineboutique-currencyservice-b94c70d5-89bec3df
#   namespace: default
# spec:
#   maxReplicas: 10
#   metrics:
#   - resource:
#       name: cpu
#       target:
#         averageUtilization: 80
#         type: Utilization
#     type: Resource
#   minReplicas: 1
#   scaleTargetRef:
#     apiVersion: apps/v1
#     kind: Deployment
#     name: onlineboutique-currencyservice-b94c70d5-89bec3df
# status:
#   currentMetrics: null
#   desiredReplicas: 0

---

# Deployment for group emailservice
apiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    description: This Deployment hosts components github.com/ServiceWeaver/onlineboutique/emailservice/EmailService.
  creationTimestamp: null
  labels:
    serviceweaver/app: onlineboutique
    serviceweaver/version: b94c70d5
  name: onlineboutique-emailservice-b94c70d5-470e90da
  namespace: default
spec:
  selector:
    matchLabels:
      serviceweaver/name: onlineboutique-emailservice-b94c70d5-470e90da
  strategy: {}
  template:
    metadata:
      annotations:
        description: This Pod hosts components github.com/ServiceWeaver/onlineboutique/emailservice/EmailService.
      creationTimestamp: null
      labels:
        serviceweaver/app: onlineboutique
        serviceweaver/name: onlineboutique-emailservice-b94c70d5-470e90da
        serviceweaver/version: b94c70d5
      namespace: default
    spec:
      affinity:
        podAntiAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
          - podAffinityTerm:
              labelSelector:
                matchLabels:
                  serviceweaver/name: onlineboutique-emailservice-b94c70d5-470e90da
              topologyKey: kubernetes.io/hostname
            weight: 100
      containers:
      - args:
        - babysitter
        - /weaver/weaver.toml
        - /weaver/config.textpb
        - github.com/ServiceWeaver/onlineboutique/emailservice/EmailService
        image: docker.io/camilamedeir0s/onlineboutique:b94c70d5
        imagePullPolicy: IfNotPresent
        name: serviceweaver
        resources:
          requests:
            memory: "15Mi"
            cpu: "15m"
          limits:
            memory: "190Mi"
            cpu: "80m"
        stdin: true
        tty: true
        volumeMounts:
        - mountPath: /weaver/weaver.toml
          name: config
          subPath: weaver.toml
        - mountPath: /weaver/config.textpb
          name: config
          subPath: config.textpb
      dnsPolicy: ClusterFirst
      serviceAccountName: default
      volumes:
      - configMap:
          name: config-b94c70d5
        name: config
status: {}

---

# Autoscaler for group emailservice
# apiVersion: autoscaling/v2
# kind: HorizontalPodAutoscaler
# metadata:
#   annotations:
#     description: This HorizontalPodAutoscaler scales the "onlineboutique-emailservice-b94c70d5-470e90da"
#       Deployment.
#   creationTimestamp: null
#   labels:
#     serviceweaver/app: onlineboutique
#     serviceweaver/version: b94c70d5
#   name: onlineboutique-emailservice-b94c70d5-470e90da
#   namespace: default
# spec:
#   maxReplicas: 10
#   metrics:
#   - resource:
#       name: cpu
#       target:
#         averageUtilization: 80
#         type: Utilization
#     type: Resource
#   minReplicas: 1
#   scaleTargetRef:
#     apiVersion: apps/v1
#     kind: Deployment
#     name: onlineboutique-emailservice-b94c70d5-470e90da
# status:
#   currentMetrics: null
#   desiredReplicas: 0

---

# Listener Service for group main
apiVersion: v1
kind: Service
metadata:
  annotations:
    description: This Service forwards traffic to the "boutique" listener.
  creationTimestamp: null
  labels:
    serviceweaver/app: onlineboutique
    serviceweaver/listener: boutique
    serviceweaver/version: b94c70d5
  name: boutique-b94c70d5
  namespace: default
spec:
  ports:
  - port: 80
    protocol: TCP
    targetPort: 20000
  selector:
    serviceweaver/name: onlineboutique-main-b94c70d5-0d21b967
  type: LoadBalancer
status:
  loadBalancer: {}

---

# Deployment for group main
apiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    description: This Deployment hosts components github.com/ServiceWeaver/weaver/Main.
  creationTimestamp: null
  labels:
    serviceweaver/app: onlineboutique
    serviceweaver/version: b94c70d5
  name: onlineboutique-main-b94c70d5-0d21b967
  namespace: default
spec:
  selector:
    matchLabels:
      serviceweaver/name: onlineboutique-main-b94c70d5-0d21b967
  strategy: {}
  template:
    metadata:
      annotations:
        description: This Pod hosts components github.com/ServiceWeaver/weaver/Main.
      creationTimestamp: null
      labels:
        serviceweaver/app: onlineboutique
        serviceweaver/name: onlineboutique-main-b94c70d5-0d21b967
        serviceweaver/version: b94c70d5
      namespace: default
    spec:
      affinity:
        podAntiAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
          - podAffinityTerm:
              labelSelector:
                matchLabels:
                  serviceweaver/name: onlineboutique-main-b94c70d5-0d21b967
              topologyKey: kubernetes.io/hostname
            weight: 100
      containers:
      - args:
        - babysitter
        - /weaver/weaver.toml
        - /weaver/config.textpb
        - github.com/ServiceWeaver/weaver/Main
        image: docker.io/camilamedeir0s/onlineboutique:b94c70d5
        imagePullPolicy: IfNotPresent
        name: serviceweaver
        ports:
        - containerPort: 20000
          name: boutique
        resources:
          requests:
            memory: "15Mi"
            cpu: "15m"
          limits:
            memory: "1520Mi"
            cpu: "1530m"
        stdin: true
        tty: true
        volumeMounts:
        - mountPath: /weaver/weaver.toml
          name: config
          subPath: weaver.toml
        - mountPath: /weaver/config.textpb
          name: config
          subPath: config.textpb
      dnsPolicy: ClusterFirst
      serviceAccountName: default
      volumes:
      - configMap:
          name: config-b94c70d5
        name: config
status: {}

---

# Autoscaler for group main
# apiVersion: autoscaling/v2
# kind: HorizontalPodAutoscaler
# metadata:
#   annotations:
#     description: This HorizontalPodAutoscaler scales the "onlineboutique-main-b94c70d5-0d21b967"
#       Deployment.
#   creationTimestamp: null
#   labels:
#     serviceweaver/app: onlineboutique
#     serviceweaver/version: b94c70d5
#   name: onlineboutique-main-b94c70d5-0d21b967
#   namespace: default
# spec:
#   maxReplicas: 10
#   metrics:
#   - resource:
#       name: cpu
#       target:
#         averageUtilization: 80
#         type: Utilization
#     type: Resource
#   minReplicas: 1
#   scaleTargetRef:
#     apiVersion: apps/v1
#     kind: Deployment
#     name: onlineboutique-main-b94c70d5-0d21b967
# status:
#   currentMetrics: null
#   desiredReplicas: 0

---

# Deployment for group paymentservice
apiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    description: This Deployment hosts components github.com/ServiceWeaver/onlineboutique/paymentservice/PaymentService.
  creationTimestamp: null
  labels:
    serviceweaver/app: onlineboutique
    serviceweaver/version: b94c70d5
  name: onlineboutique-paymentservice-b94c70d5-25e062db
  namespace: default
spec:
  selector:
    matchLabels:
      serviceweaver/name: onlineboutique-paymentservice-b94c70d5-25e062db
  strategy: {}
  template:
    metadata:
      annotations:
        description: This Pod hosts components github.com/ServiceWeaver/onlineboutique/paymentservice/PaymentService.
      creationTimestamp: null
      labels:
        serviceweaver/app: onlineboutique
        serviceweaver/name: onlineboutique-paymentservice-b94c70d5-25e062db
        serviceweaver/version: b94c70d5
      namespace: default
    spec:
      affinity:
        podAntiAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
          - podAffinityTerm:
              labelSelector:
                matchLabels:
                  serviceweaver/name: onlineboutique-paymentservice-b94c70d5-25e062db
              topologyKey: kubernetes.io/hostname
            weight: 100
      containers:
      - args:
        - babysitter
        - /weaver/weaver.toml
        - /weaver/config.textpb
        - github.com/ServiceWeaver/onlineboutique/paymentservice/PaymentService
        image: docker.io/camilamedeir0s/onlineboutique:b94c70d5
        imagePullPolicy: IfNotPresent
        name: serviceweaver
        resources:
          requests:
            memory: "15Mi"
            cpu: "15m"
          limits:
            memory: "190Mi"
            cpu: "60m"
        stdin: true
        tty: true
        volumeMounts:
        - mountPath: /weaver/weaver.toml
          name: config
          subPath: weaver.toml
        - mountPath: /weaver/config.textpb
          name: config
          subPath: config.textpb
      dnsPolicy: ClusterFirst
      serviceAccountName: default
      volumes:
      - configMap:
          name: config-b94c70d5
        name: config
status: {}

---

# Autoscaler for group paymentservice
# apiVersion: autoscaling/v2
# kind: HorizontalPodAutoscaler
# metadata:
#   annotations:
#     description: This HorizontalPodAutoscaler scales the "onlineboutique-paymentservice-b94c70d5-25e062db"
#       Deployment.
#   creationTimestamp: null
#   labels:
#     serviceweaver/app: onlineboutique
#     serviceweaver/version: b94c70d5
#   name: onlineboutique-paymentservice-b94c70d5-25e062db
#   namespace: default
# spec:
#   maxReplicas: 10
#   metrics:
#   - resource:
#       name: cpu
#       target:
#         averageUtilization: 80
#         type: Utilization
#     type: Resource
#   minReplicas: 1
#   scaleTargetRef:
#     apiVersion: apps/v1
#     kind: Deployment
#     name: onlineboutique-paymentservice-b94c70d5-25e062db
# status:
#   currentMetrics: null
#   desiredReplicas: 0

---

# Deployment for group productcatalogservice
apiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    description: This Deployment hosts components github.com/ServiceWeaver/onlineboutique/productcatalogservice/ProductCatalogService.
  creationTimestamp: null
  labels:
    serviceweaver/app: onlineboutique
    serviceweaver/version: b94c70d5
  name: onlineboutique-productcatalogservice-b94c70d5-227ee560
  namespace: default
spec:
  selector:
    matchLabels:
      serviceweaver/name: onlineboutique-productcatalogservice-b94c70d5-227ee560
  strategy: {}
  template:
    metadata:
      annotations:
        description: This Pod hosts components github.com/ServiceWeaver/onlineboutique/productcatalogservice/ProductCatalogService.
      creationTimestamp: null
      labels:
        serviceweaver/app: onlineboutique
        serviceweaver/name: onlineboutique-productcatalogservice-b94c70d5-227ee560
        serviceweaver/version: b94c70d5
      namespace: default
    spec:
      affinity:
        podAntiAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
          - podAffinityTerm:
              labelSelector:
                matchLabels:
                  serviceweaver/name: onlineboutique-productcatalogservice-b94c70d5-227ee560
              topologyKey: kubernetes.io/hostname
            weight: 100
      containers:
      - args:
        - babysitter
        - /weaver/weaver.toml
        - /weaver/config.textpb
        - github.com/ServiceWeaver/onlineboutique/productcatalogservice/ProductCatalogService
        image: docker.io/camilamedeir0s/onlineboutique:b94c70d5
        imagePullPolicy: IfNotPresent
        name: serviceweaver
        resources:
          requests:
            memory: "15Mi"
            cpu: "15m"
          limits:
            memory: "190Mi"
            cpu: "280m"
        stdin: true
        tty: true
        volumeMounts:
        - mountPath: /weaver/weaver.toml
          name: config
          subPath: weaver.toml
        - mountPath: /weaver/config.textpb
          name: config
          subPath: config.textpb
      dnsPolicy: ClusterFirst
      serviceAccountName: default
      volumes:
      - configMap:
          name: config-b94c70d5
        name: config
status: {}

---

# Autoscaler for group productcatalogservice
# apiVersion: autoscaling/v2
# kind: HorizontalPodAutoscaler
# metadata:
#   annotations:
#     description: This HorizontalPodAutoscaler scales the "onlineboutique-productcatalogservice-b94c70d5-227ee560"
#       Deployment.
#   creationTimestamp: null
#   labels:
#     serviceweaver/app: onlineboutique
#     serviceweaver/version: b94c70d5
#   name: onlineboutique-productcatalogservice-b94c70d5-227ee560
#   namespace: default
# spec:
#   maxReplicas: 10
#   metrics:
#   - resource:
#       name: cpu
#       target:
#         averageUtilization: 80
#         type: Utilization
#     type: Resource
#   minReplicas: 1
#   scaleTargetRef:
#     apiVersion: apps/v1
#     kind: Deployment
#     name: onlineboutique-productcatalogservice-b94c70d5-227ee560
# status:
#   currentMetrics: null
#   desiredReplicas: 0

---

# Deployment for group recommendationservice
apiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    description: This Deployment hosts components github.com/ServiceWeaver/onlineboutique/recommendationservice/RecommendationService.
  creationTimestamp: null
  labels:
    serviceweaver/app: onlineboutique
    serviceweaver/version: b94c70d5
  name: onlineboutique-recommendationservice-b94c70d5-c0c6c6e8
  namespace: default
spec:
  selector:
    matchLabels:
      serviceweaver/name: onlineboutique-recommendationservice-b94c70d5-c0c6c6e8
  strategy: {}
  template:
    metadata:
      annotations:
        description: This Pod hosts components github.com/ServiceWeaver/onlineboutique/recommendationservice/RecommendationService.
      creationTimestamp: null
      labels:
        serviceweaver/app: onlineboutique
        serviceweaver/name: onlineboutique-recommendationservice-b94c70d5-c0c6c6e8
        serviceweaver/version: b94c70d5
      namespace: default
    spec:
      affinity:
        podAntiAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
          - podAffinityTerm:
              labelSelector:
                matchLabels:
                  serviceweaver/name: onlineboutique-recommendationservice-b94c70d5-c0c6c6e8
              topologyKey: kubernetes.io/hostname
            weight: 100
      containers:
      - args:
        - babysitter
        - /weaver/weaver.toml
        - /weaver/config.textpb
        - github.com/ServiceWeaver/onlineboutique/recommendationservice/RecommendationService
        image: docker.io/camilamedeir0s/onlineboutique:b94c70d5
        imagePullPolicy: IfNotPresent
        name: serviceweaver
        resources:
          requests:
            memory: "15Mi"
            cpu: "15m"
          limits:
            memory: "190Mi"
            cpu: "190m"
        stdin: true
        tty: true
        volumeMounts:
        - mountPath: /weaver/weaver.toml
          name: config
          subPath: weaver.toml
        - mountPath: /weaver/config.textpb
          name: config
          subPath: config.textpb
      dnsPolicy: ClusterFirst
      serviceAccountName: default
      volumes:
      - configMap:
          name: config-b94c70d5
        name: config
status: {}

---

# Autoscaler for group recommendationservice
# apiVersion: autoscaling/v2
# kind: HorizontalPodAutoscaler
# metadata:
#   annotations:
#     description: This HorizontalPodAutoscaler scales the "onlineboutique-recommendationservice-b94c70d5-c0c6c6e8"
#       Deployment.
#   creationTimestamp: null
#   labels:
#     serviceweaver/app: onlineboutique
#     serviceweaver/version: b94c70d5
#   name: onlineboutique-recommendationservice-b94c70d5-c0c6c6e8
#   namespace: default
# spec:
#   maxReplicas: 10
#   metrics:
#   - resource:
#       name: cpu
#       target:
#         averageUtilization: 80
#         type: Utilization
#     type: Resource
#   minReplicas: 1
#   scaleTargetRef:
#     apiVersion: apps/v1
#     kind: Deployment
#     name: onlineboutique-recommendationservice-b94c70d5-c0c6c6e8
# status:
#   currentMetrics: null
#   desiredReplicas: 0

---

# Deployment for group shippingservice
apiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    description: This Deployment hosts components github.com/ServiceWeaver/onlineboutique/shippingservice/ShippingService.
  creationTimestamp: null
  labels:
    serviceweaver/app: onlineboutique
    serviceweaver/version: b94c70d5
  name: onlineboutique-shippingservice-b94c70d5-99d35905
  namespace: default
spec:
  selector:
    matchLabels:
      serviceweaver/name: onlineboutique-shippingservice-b94c70d5-99d35905
  strategy: {}
  template:
    metadata:
      annotations:
        description: This Pod hosts components github.com/ServiceWeaver/onlineboutique/shippingservice/ShippingService.
      creationTimestamp: null
      labels:
        serviceweaver/app: onlineboutique
        serviceweaver/name: onlineboutique-shippingservice-b94c70d5-99d35905
        serviceweaver/version: b94c70d5
      namespace: default
    spec:
      affinity:
        podAntiAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
          - podAffinityTerm:
              labelSelector:
                matchLabels:
                  serviceweaver/name: onlineboutique-shippingservice-b94c70d5-99d35905
              topologyKey: kubernetes.io/hostname
            weight: 100
      containers:
      - args:
        - babysitter
        - /weaver/weaver.toml
        - /weaver/config.textpb
        - github.com/ServiceWeaver/onlineboutique/shippingservice/ShippingService
        image: docker.io/camilamedeir0s/onlineboutique:b94c70d5
        imagePullPolicy: IfNotPresent
        name: serviceweaver
        resources:
          requests:
            memory: "15Mi"
            cpu: "15m"
          limits:
            memory: "190Mi"
            cpu: "190m"
        stdin: true
        tty: true
        volumeMounts:
        - mountPath: /weaver/weaver.toml
          name: config
          subPath: weaver.toml
        - mountPath: /weaver/config.textpb
          name: config
          subPath: config.textpb
      dnsPolicy: ClusterFirst
      serviceAccountName: default
      volumes:
      - configMap:
          name: config-b94c70d5
        name: config
status: {}

---

# Autoscaler for group shippingservice
# apiVersion: autoscaling/v2
# kind: HorizontalPodAutoscaler
# metadata:
#   annotations:
#     description: This HorizontalPodAutoscaler scales the "onlineboutique-shippingservice-b94c70d5-99d35905"
#       Deployment.
#   creationTimestamp: null
#   labels:
#     serviceweaver/app: onlineboutique
#     serviceweaver/version: b94c70d5
#   name: onlineboutique-shippingservice-b94c70d5-99d35905
#   namespace: default
# spec:
#   maxReplicas: 10
#   metrics:
#   - resource:
#       name: cpu
#       target:
#         averageUtilization: 80
#         type: Utilization
#     type: Resource
#   minReplicas: 1
#   scaleTargetRef:
#     apiVersion: apps/v1
#     kind: Deployment
#     name: onlineboutique-shippingservice-b94c70d5-99d35905
# status:
#   currentMetrics: null
#   desiredReplicas: 0

---
